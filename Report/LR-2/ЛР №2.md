---
name: Составление блок-схем с помощью mermaid
tags:
  - block_diagrams
  - practic
  - mermaid
---
 ## Составление блок-схем с помощью mermaid

**Цель работы:** Научиться создавать блок-схемы с помощью mermaid

**Задачи работы:**
1. Изучить теоретический материал
2. Составить блок-схемы по заданию

**Критерии оценки:**
1. Правильность составленных блок-схем
2. Полнота составленных блок-схем
3. Выполнение дополнительного задания

### Теоретическая часть
[[Основы работы с mermaid]]

### Практическое часть

#### Задание 1.

Напишите блок схему отправки ping с устройства на устройство.

**Условия**: В блок схеме должно быть: 
- блоки ввода данных для ip
- как минимум один цикл
- блок вывода данных

``` mermaid
flowchart TD
А([Начало]) --> B[Ввести IP-адрес назначения]
B --> C[Кол-во пакетов 4]
C --> D[Инициализация счётчика: x=1]
D --> E{x <= кол-во пакетов?}
E -- НЕТ --> L[Вывод статистики ping]
E -- ДА --> F[Отправкка ICMP]
F --> G[Ожидание ответа]
G --> H{Получен ответ?}
H -- НЕТ --> J[Вывод: Таймаут]
H -- ДА --> I[Вывод: Успешно, время ответа]
I --> K[Увеличить счётчик: x=x+1]
J --> K
K --> E
L --> M([Конец])
DMITRIEVA
```

#### Задание 2.

Вспомните как работает протокол ospf, а в частности его алгоритм поиска кратчайшего пути. Составьте блок-схему отправки сообщения с одного устройства до другого, которые объединены несколькими маршрутизаторами с ospf протоколом.

**Условия**: В блок схеме должно быть: 
- должно быть как минимум одно условие
- должен быть как минимум один цикл
- должна быть как минимум одна определённая переменная

```mermaid
flowchart TD
A1([Каждый маршрутизатор строит у себя базу данных о топологии сети]) --> A2[Маршрутизатор вычисляет кратчайший путь]
A2 --> A3[Результаты вычислений помещаются в таблицу маршрутизации]
A3 --> A4[Устройство A отправляет пакет]
A4 --> A5[Маршрутизатор ищет пусть в таблице маршрутизации]
A5 --> A6{Маршрут найден?}
A6-- Нет --> A7[Отбросить пакет]
A7 --> A14
A6 -- Да --> A8[Определить следующий прыжок, куда отправиться пакет]
A8 --> A9[Устанавливаеться адрес след.пункта назначения для пакета]
A9 --> A10[Пакет пересылаеться на адрес]
A10 --> A11{*Адес* это устройство B?}
A11 -- Нет --> A12[Пакет пересылается/след.прыжок]
A12 -->A10
A11 -- Да --> A13[Пакет доставлен устройству B]
A13 --> A14([Конец])
x --> DMITRIEVA
```
#### Задание 3.
Вспомним как работает протокол ssh. Составим блок-схему подключения одного узла к другому через ssh

**Условия**: 
- Должно быть условие проверки пароля
- У пользователя есть 3 попытки ввода пароля
- Должны быть блоки ввода и вывода информации
```mermaid 
flowchart TD
A([Начало]) --> B[Запуск ssh-клиента]
B --> C[Установка TCP-соединения с 22 портом]
C --> D{Соединение установлено?}
D -- НЕТ --> E[Вывод ошибки сети]
D -- ДА --> F[Обмен версиями протокола ssh-клиент и ssh-сервер]
E --> Z([Конец])
F --> G[Обмен ключами и алгоритмами]
G --> H[Сервер отправляет свой публичный ключ хоста]
H --> I{Ключ известен клиенту или нет?}
I -- НЕТ --> J[Вывод предупреждения]
I -- ДА --> N[Проверка подписи сервера для подтверждения его подлинности]
J --> K{Пользователь подтвердил?}
K -- НЕТ --> L[Клиент разрывает соединение]
L --> Z
K -- ДА --> M[Серверный ключ сохранен]
N --> O{Подпись верна?}
O -- НЕТ --> P[Вывод ошибки]
P --> L
O -- ДА --> Q[Запрос метода аутентификации]
M --> Q
Q --> R[Клиент отправляет логин]
R --> S[Клиент пытается аутентифицироваться по публичному ключу если он есть]
S --> T{Публичный ключ есть?}
T -- ДА --> U[Успешная аутентификация!]
T -- НЕТ --> V[Сервер запрашивает пароль]
V --> W[Пользователь вводит пароль]
W -->X{Пароль верный?}
X -- НЕТ --> Y[Увеличить счётчик ошибок попытка = +1]
Y -->AA{попытки >= 3?}
AA -- НЕТ--> V
AA -- ДА --> AB[Сервер разрывает соединение]
AB --> AC[Вывод:Разрешение отклонено]
AC --> Z
X -- ДА --> U
U -->AD[Сервер запускает оболочку]
AD --> AE[Создан интерактивный сеанс]
AE --> AF[Пользователь работает в сеансе]
AF --> AG{Введена команда exit или разрыв связи?}
AG -- НЕТ --> AF
AG -- ДА --> AH[Сервер закрывает сеанс]
AH --> AI[Соединение разорвано]
AI --> Z
DMITRIEVA
```
#### Задание 4

Вариативное задание [[Отчёт Дмитриева/LR №2 (Variants)]]
```mermaid 
flowchart TD
A([Начало]) --> B[Ввод числа K]
B --> C[Инициализация счётчика x = 1]
C --> D{ x <= 10?}
D -- ДА --> E[Вывод: K * x = результат]
E --> F[ x = x + 1]
F --> D
D -- НЕТ --> G([Конец])

DMITRIEVA
```